!function(){var e={supports_video:function(){return!!document.createElement("video").canPlayType},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},bind:function(e,i,t){e[window.addEventListener?"addEventListener":"attachEvent"](window.addEventListener?i:"on"+i,t,!1)},domReady:function(e){var i=setInterval(function(){"complete"===document.readyState&&(clearInterval(i),e.call())},9)},unique:function(){return(Math.random()+1).toString(36).substring(8)}};window.bgVideo=function(){var i=function(){return{sources:[],loop:!0,autoplay:!0,id:e.unique()}},t={},n="position:fixed;width:100%;height:100%;top:0;left:0;z-index:-1;overflow:hidden;",d={body:null,wrapper:null,video:null,img:null},o=1,r=1,a=1.77,u=function(){r=window.innerWidth/window.innerHeight,r>a?(d.video.style.height="auto",d.video.style.width=window.innerWidth+"px"):(d.video.style.width="auto",d.video.style.height=window.innerHeight+"px")},l=function(){d.body=document.body,d.body.style.padding=0,d.body.style.margin=0,d.wrapper||(d.wrapper=document.createElement("div")),d.wrapper.style.display="none",d.wrapper.innerHTML="",d.wrapper.id=t.id,d.wrapper.style.cssText=n},p=function(){r=window.innerWidth/window.innerHeight,r>o?(d.img.style.width="100%",d.img.style.height="auto"):(d.img.style.height="100%",d.img.style.width="auto")},c=function(i){i.img&&(l(),d.wrapper.innerHTML="",d.img=new Image,d.img.src=i.img,d.wrapper.appendChild(d.img),d.body.appendChild(d.wrapper),e.bind(d.img,"load",function(){o=d.img.width/d.img.height,p()}),e.bind(window,"resize",p))},s=function(t){var t=t?t:{},n=i();for(var o in t)n[o]=t[o];if(!n.sources.length||!e.supports_video())return c(n);l(),d.video=document.createElement("video");for(var o=0;o<n.sources.length;o++){var r=document.createElement("source");r.src=e.trim(n.sources[o]),d.video.appendChild(r)}n.autoplay&&(d.video.autoplay=!0),n.loop&&(d.video.loop=!0),d.video.preload="metadata",d.wrapper.appendChild(d.video),d.body.appendChild(d.wrapper),e.bind(d.video,"loadedmetadata",function(){a=d.video.videoWidth/d.video.videoHeight,u(),d.wrapper.style.display="block"}),e.bind(window,"resize",u)},m=function(i){return"object"!=typeof i?d.video:void e.domReady(function(){s(i)})},w=function(){e.domReady(function(){if(document.body.dataset&&(document.body.dataset.fullvideo||document.body.dataset.fullimg)){var e={};document.body.dataset.fullvideo&&(e.sources=document.body.dataset.fullvideo.split(",")),document.body.dataset.fullimg&&(e.img=document.body.dataset.fullimg.split(",")),m(e)}})};return w(),m}()}();
